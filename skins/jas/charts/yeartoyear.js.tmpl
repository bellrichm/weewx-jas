##    Copyright (c) 2022 Rich Bell <bellrichm@gmail.com>
##    See the file LICENSE.txt for your rights.

#from weeutil.weeutil import to_bool
#if $getVar("$Extras.pages." + $page, False) and to_bool($getVar("$Extras.pages." + $page + ".enable", True))
   #set month_days = {
      '01': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
      '02': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29'],
      '03': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
      '04': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'],
      '05': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
      '06': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'],
      '07': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
      '08': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
      '09': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'],
      '10': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
      '11': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'],
      '12': ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],

   }

    #set year_to_year_xaxis_label = $gettext('year_to_year_xaxis_label')
    #if $year_to_year_xaxis_label == 'year_to_year_xaxis_label'
        #set $year_to_year_xaxis_label = 'MM/DD'
    #end if
    #set $label_start = $year_to_year_xaxis_label[:2]
    #set $label_end = $year_to_year_xaxis_label[3:]
    #set $label_separator = $year_to_year_xaxis_label[2:3]

    ## ToDo: could do more checking
    #if $label_start != 'DD' and $label_start != 'MM'
        #raise ValueError("Invalid 'year_to_year_xaxis_label': " + $year_to_year_xaxis_label)
    #end if

    var monthDays = [
        #for $month in $month_days
            #set line = ""
            #set i = 0
            #for $i in range(len($month_days[$month]))
                #if $label_start == 'MM'
                    #set $line += "'" + $month + $label_separator + $month_days[$month][$i] + "',"
                #else if $label_start == 'DD'
                    #set $line += "'" + $month_days[$month][$i] + $label_separator + $month + "',"
                #else
                    #raise ValueError("Invalid 'year_to_year_xaxis_label': " + $year_to_year_xaxis_label)
                #end if
                #set $i += 1
            #end for
            $line
        #end for
        ];

    #set global interval_name_global = 'year'
    #set global page_name_global = 'yeartoyear'
    #set global page_definition_name_global = 'yeartoyear'
    
    #include 'generators/charts.gen'

    #set global interval_long_name_global = None
    #set global page_name_global = None
    #set global page_definition_name_global = None
#end if    