##    Copyright (c) 2021 Rich Bell <bellrichm@gmail.com>
##    See the file LICENSE.txt for your rights.

week = new Object();
#for $observation in $observations
    ## todo, currently only supporting a single aggregate_type  
    #set aggregate_type = list($observations[$observation]['aggregate_types'])[0]
    #set aggregate_interval = $getVar('Extras.page_definition.last7days.aggregate_interval.' + $aggregate_type, None)
    #if $aggregate_interval is not None
        #set obs = "week." + $observation + " = $week." + $observation + ".series(time_series='start', aggregate_type='" + $aggregate_type + "', aggregate_interval='" + $aggregate_interval + "', time_unit='unix_epoch_ms').round(2).json"
    #else
        #set obs = "week." + $observation + " = $week." + $observation + ".series(time_series='start', time_unit='unix_epoch_ms').round(2).json"
    #end if
    $skinDebug($obs)
    #include source=$obs + ";\n"
#end for